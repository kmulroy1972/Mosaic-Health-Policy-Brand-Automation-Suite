# v0.3.0 Development Plan

**Branch:** feature/v0.3.0-backend-ui  
**Created:** October 29, 2025  
**Status:** In Progress  
**Target Release:** TBD

---

## Overview

Version 0.3.0 focuses on backend API integration and UI enhancements to transform the test taskpane into a production-ready brand automation tool.

---

## Development Roadmap

### Phase 1: Backend Integration (Week 1-2)

#### API Health Check Integration

- **Task:** Connect taskpane to https://api.mosaicpolicy.com/api/health
- **File:** `apps/dev-host/public/index.html`
- **Implementation:**
  - Add fetch call to health endpoint on taskpane load
  - Display backend service status (healthy/degraded)
  - Show version information from API
  - Handle connection errors gracefully

#### Azure Functions Deployment

- **Task:** Deploy backend-functions package to Azure
- **Endpoint:** api.mosaicpolicy.com
- **Functions to Deploy:**
  - `/api/health` - Health check endpoint
  - `/api/templates` - Brand templates retrieval
  - `/api/rewrite` - AI text rewriting
  - `/api/pdf/validate` - PDF validation
  - `/api/pdf/convertA` - PDF/A conversion

### Phase 2: UI Enhancements (Week 2-3)

#### Brand Guidelines Section

- **Purpose:** Display MHP brand guidelines and compliance rules
- **Features:**
  - Brand color palette
  - Typography guidelines
  - Logo usage rules
  - Approved terminology
- **Data Source:** Microsoft Graph API or static config

#### Templates Section

- **Purpose:** Quick access to pre-approved document templates
- **Features:**
  - Template library browser
  - One-click template insertion
  - Template preview
  - Category filtering
- **Data Source:** Microsoft Graph (SharePoint templates)

#### Enhanced UI Layout

- **Design:** Multi-tab interface
  - Tab 1: Brand Guidelines
  - Tab 2: Templates
  - Tab 3: AI Tools (future)
  - Tab 4: Settings
- **Framework:** Consider React (from shared-ui) or keep vanilla JS
- **Styling:** Use design tokens from shared-ui

### Phase 3: Assets & Polish (Week 3-4)

#### Icon Assets

- **Files to Create:**
  - `icon-16.png` - 16x16 pixels
  - `icon-32.png` - 32x32 pixels
  - `icon-64.png` - 64x64 pixels
  - `icon-80.png` - 80x80 pixels
- **Design:** MHP brand colors and logo
- **Location:** `apps/dev-host/public/assets/`

#### Commands File

- **File:** `commands.html` (placeholder created)
- **Purpose:** Handle ribbon command button clicks
- **Functions to Add:**
  - Quick brand check
  - Insert template
  - Format document

---

## File Structure Changes

### New Files Created

```
apps/dev-host/public/
‚îú‚îÄ‚îÄ commands.html          (NEW) - Command handler for ribbon buttons
‚îî‚îÄ‚îÄ assets/
    ‚îî‚îÄ‚îÄ README.md          (NEW) - Icon asset guidelines

docs/deployment/
‚îú‚îÄ‚îÄ UAT-Results-v0.2.7.md  (NEW) - User acceptance testing results
‚îî‚îÄ‚îÄ v0.3.0-Development-Plan.md (THIS FILE)
```

### Files to Modify

```
apps/dev-host/public/index.html
  - Add API health check integration
  - Add multi-section UI (Brand Guidelines, Templates)
  - Enhance styling and layout

packages/backend-functions/
  - Deploy to Azure Functions
  - Configure custom domain api.mosaicpolicy.com

manifest/sideload/*.xml
  - No changes needed (already pointing to cdn.mosaicpolicy.com)
```

---

## Technical Implementation Details

### Backend API Integration

**Health Check Endpoint:**

```javascript
// Fetch health status on taskpane load
fetch('https://api.mosaicpolicy.com/api/health')
  .then((response) => response.json())
  .then((data) => {
    console.log('Backend status:', data.status);
    console.log('Backend version:', data.version);
    updateStatusIndicator(data);
  })
  .catch((error) => {
    console.error('Backend unavailable:', error);
    showOfflineMode();
  });
```

**Expected Response:**

```json
{
  "status": "healthy",
  "version": "0.0.1",
  "timestamp": "2025-10-29T01:00:00.000Z",
  "checks": {
    "aiClient": "ok",
    "graphClient": "ok",
    "storage": "ok"
  }
}
```

### UI Architecture

**Proposed Structure:**

```html
<div class="taskpane">
  <header>
    <h1>MHP Brand Automation</h1>
    <div class="status-bar">
      <span class="backend-status">Backend: <status></span>
    </div>
  </header>

  <nav class="tabs">
    <button class="tab active">Brand Guidelines</button>
    <button class="tab">Templates</button>
    <button class="tab">Tools</button>
  </nav>

  <main class="content">
    <section class="brand-guidelines">
      <!-- Brand content here -->
    </section>
  </main>
</div>
```

---

## Dependencies

### New Dependencies (Potential)

- None required for basic implementation
- Optional: React (already in shared-ui package)
- Optional: axios or fetch wrapper for API calls

### Existing Dependencies to Use

- `@mhp/shared-ui` - React components and design tokens
- `@mhp/shared-brand-core` - API clients (Graph, AI)
- Office.js - Word API integration

---

## Testing Strategy

### Unit Tests

- Health check API integration
- Error handling for API failures
- UI component rendering
- Brand guideline data processing

### Integration Tests

- End-to-end API calls
- Word API interaction
- Template insertion workflow
- Multi-section navigation

### Manual UAT

- Test in Word Desktop (Mac/Windows)
- Test in Word Online
- Verify all sections load correctly
- Test offline behavior

---

## Success Criteria for v0.3.0

### Must Have

- [ ] Health check API integration working
- [ ] Brand Guidelines section implemented
- [ ] Templates section implemented
- [ ] Icon assets created and deployed
- [ ] commands.html functional
- [ ] All tests passing
- [ ] Documentation updated

### Should Have

- [ ] Error handling for offline/API failures
- [ ] Loading states for API calls
- [ ] User feedback messages
- [ ] Improved UI design
- [ ] Mobile-responsive layout

### Nice to Have

- [ ] AI rewrite integration
- [ ] Template preview
- [ ] Settings panel
- [ ] Telemetry tracking

---

## Timeline

### Week 1: Backend Integration

- Days 1-2: Deploy Azure Functions to api.mosaicpolicy.com
- Days 3-4: Implement health check integration
- Day 5: Test and debug API connectivity

### Week 2: UI Development

- Days 1-2: Create Brand Guidelines section
- Days 3-4: Create Templates section
- Day 5: Integrate sections into taskpane

### Week 3: Assets & Polish

- Days 1-2: Create icon assets
- Days 3-4: Implement commands.html
- Day 5: Testing and bug fixes

### Week 4: Testing & Release

- Days 1-2: UAT testing
- Days 3-4: Bug fixes and refinements
- Day 5: Release v0.3.0

---

## Risk Assessment

### Technical Risks

**Risk 1: API Deployment Delays**

- **Probability:** Medium
- **Impact:** High (blocks backend integration)
- **Mitigation:** Deploy API early, test thoroughly
- **Fallback:** Implement offline mode with cached data

**Risk 2: CORS Issues**

- **Probability:** Medium
- **Impact:** Medium (blocks API calls from browser)
- **Mitigation:** Configure CORS correctly in Azure Functions
- **Fallback:** Proxy API calls through CDN server

**Risk 3: UI Complexity**

- **Probability:** Low
- **Impact:** Medium (could delay release)
- **Mitigation:** Start simple, iterate
- **Fallback:** Keep basic UI for v0.3.0, enhance in v0.4.0

### Process Risks

**Risk 1: Scope Creep**

- **Probability:** High
- **Impact:** Medium (delays release)
- **Mitigation:** Stick to planned features, defer extras to v0.4.0
- **Fallback:** Release v0.3.0 with subset of features

---

## Pull Request Checklist

Before merging feature/v0.3.0-backend-ui to main:

### Code Quality

- [ ] All TypeScript compiles without errors
- [ ] No linting errors
- [ ] Code formatted with Prettier
- [ ] No console.error or console.warn in production code

### Testing

- [ ] All unit tests passing
- [ ] Integration tests passing
- [ ] Manual UAT completed
- [ ] Tested in Word Desktop (Mac/Windows)
- [ ] Tested in Word Online

### Documentation

- [ ] CHANGELOG.md updated with actual changes
- [ ] README updated if needed
- [ ] API documentation added
- [ ] User guide updated

### Deployment

- [ ] Builds successfully
- [ ] Deploys to cdn.mosaicpolicy.com without errors
- [ ] API deployed to api.mosaicpolicy.com
- [ ] All manifests tested
- [ ] No breaking changes

---

## Current Status

### Completed

- ‚úÖ Branch created: feature/v0.3.0-backend-ui
- ‚úÖ CHANGELOG.md updated with v0.3.0 section
- ‚úÖ commands.html placeholder created
- ‚úÖ assets/ directory structure created
- ‚úÖ Development plan documented
- ‚úÖ Initial commit pushed to GitHub

### In Progress

- ‚è≥ Backend API deployment (not started)
- ‚è≥ UI enhancements (not started)
- ‚è≥ Icon assets (not started)

### Pending

- üìã Create pull request when ready
- üìã Review and merge to main
- üìã Tag v0.3.0 release
- üìã Deploy to production

---

## Related Documentation

- [CHANGELOG.md](../../CHANGELOG.md) - Version history
- [UAT-Results-v0.2.7.md](./UAT-Results-v0.2.7.md) - Testing results
- [CLOUDWAYS_MIGRATION.md](../../CLOUDWAYS_MIGRATION.md) - Deployment guide
- [DEVELOPMENT_REPORT.md](../../DEVELOPMENT_REPORT.md) - Technical architecture

---

## Next Steps

1. **Deploy Backend API** to api.mosaicpolicy.com
2. **Implement Health Check Integration** in taskpane
3. **Create Brand Guidelines Section** UI
4. **Create Templates Section** UI
5. **Design and Create Icon Assets**
6. **Test Thoroughly** in Word Desktop and Online
7. **Create Pull Request** for review
8. **Merge and Release** v0.3.0

---

**Plan Created:** October 29, 2025  
**Branch:** feature/v0.3.0-backend-ui  
**Pull Request:** https://github.com/kmulroy1972/Mosaic-Health-Policy-Brand-Automation-Suite/pull/new/feature/v0.3.0-backend-ui
